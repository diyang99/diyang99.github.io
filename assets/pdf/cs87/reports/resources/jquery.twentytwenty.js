!function(t){t.fn.twentytwenty=function(e){e=t.extend({default_offset_pct_x:.5,default_offset_pct_y:.5,click_needed:!1},e);return this.each(function(){for(var c=e.default_offset_pct_x,h=e.default_offset_pct_y,w=t(this),n=(e.click_needed,w.children("img").length),i=[w.children("img:eq(0)"),w.children("img:eq(1)"),w.children("img:eq(2)"),w.children("img:eq(3)")],s=0,d=0,f=0;f<n;f++)s<i[f].get(0).naturalWidth&&(s=i[f].get(0).naturalWidth,d=f);w.css("max-width",i[d].get(0).naturalWidth),w.addClass("twentytwenty-compare-"+n);for(f=0;f<n;f++)i[f].addClass("twentytwenty-"+(f+1));w.append("<div class='twentytwenty-overlay'></div>");var a=w.find(".twentytwenty-overlay");for(f=0;f<n;f++)a.append("<div class='twentytwenty-label-"+(f+1)+"'>"+i[f].attr("alt")+"</div>");var r=[a.find(".twentytwenty-label-1"),a.find(".twentytwenty-label-2"),a.find(".twentytwenty-label-3"),a.find(".twentytwenty-label-4")];for(f=0;f<n;f++)a.append("<div class='twentytwenty-frame-"+(f+1)+"'></div>");a.find(".twentytwenty-frame-1"),a.find(".twentytwenty-frame-2"),a.find(".twentytwenty-frame-3"),a.find(".twentytwenty-frame-4");var l=[a.find(".twentytwenty-frame-1"),a.find(".twentytwenty-frame-2"),a.find(".twentytwenty-frame-3"),a.find(".twentytwenty-frame-4")],y=function(t,e){var c=i[d].width(),h=i[d].height();return{w:c+"px",h:h+"px",cw:t*c+"px",ch:e*h+"px",w2:c,h2:h,cw2:t*c,ch2:e*h}},o=function(t){a.css("width",t.w),a.css("height",t.h),2==n?(i[0].css("clip","rect(0,"+t.cw+","+t.h+",0)"),r[0].css({right:t.w2-t.cw2}),r[1].css({left:t.cw2}),l[0].css({width:t.cw2,height:t.h2}),l[1].css({width:t.w2-t.cw2,height:t.h2})):3==n?(i[0].css("clip","rect(0,"+t.cw+","+t.ch+",0)"),i[1].css("clip","rect(0,"+t.w+","+t.ch+","+t.cw+")"),i[2].css("clip","rect("+t.ch+","+t.w+","+t.h+",0)"),l[0].css({width:t.cw2,height:t.ch2}),l[1].css({width:t.w2-t.cw2,height:t.ch2}),l[2].css({width:t.w2,height:t.h2-t.ch2}),r[0].css({right:t.w2-t.cw2,bottom:t.h2-t.ch2}),r[1].css({left:t.cw2,bottom:t.h2-t.ch2}),r[2].css({top:t.ch2})):4==n&&(i[0].css("clip","rect(0,"+t.cw+","+t.ch+",0)"),i[1].css("clip","rect(0,"+t.w+","+t.ch+","+t.cw+")"),i[2].css("clip","rect("+t.ch+","+t.cw+","+t.h+",0)"),i[3].css("clip","rect("+t.ch+","+t.w+","+t.h+","+t.cw+")"),l[0].css({width:t.cw2,height:t.ch2}),l[1].css({width:t.w2-t.cw2,height:t.ch2}),l[2].css({width:t.cw2,height:t.h2-t.ch2}),l[3].css({width:t.w2-t.cw2,height:t.h2-t.ch2}),r[0].css({right:t.w2-t.cw2,bottom:t.h2-t.ch2}),r[1].css({left:t.cw2,bottom:t.h2-t.ch2}),r[2].css({right:t.w2-t.cw2,top:t.ch2}),r[3].css({left:t.cw2,top:t.ch2})),w.css("height",t.h)},g=function(t,e){var c=y(t,e);o(c)};t(window).on("resize.twentytwenty",function(){for(var t=0;t<n;t++)t!=d&&(i[t].css("width",i[d].width()),i[t].css("height",i[d].height()));g(c,h)}),w.on("move mousemove",function(t){c=Math.max(0,Math.min(1,(t.pageX-w.offset().left)/i[d].width())),h=Math.max(0,Math.min(1,(t.pageY-w.offset().top)/i[d].height())),g(c,h)}),w.find("img").on("mousedown",function(t){t.preventDefault()}),t(window).trigger("resize.twentytwenty")})}}(jQuery);